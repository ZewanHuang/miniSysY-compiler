# Lab4 实验报告

> 学号：19373257 姓名：黄泽桓

## 简要介绍

首先，我根据miniSysY的完整文法，完善了词法分析器lexer。

part7主要处理if条件表达式语句，并未添加语义分析的任务，因此我首先根据新多出的节点$V_{n}$修改递归下降器Descender，生成完整的语法树AST。

本次实验任务量主要在于中间代码生成器中，我根据条件表达式语句添加了包含`icmp,zext,br`等的输出，通过递归遍历树完成了基本的输出。在评测中遇到遇到`ret`后仍然`br`的情况，使用了一点trick判断`stmt`是否以`ret`结束，是则不输出`br`，否则输出。另外，模块跳转涉及寄存器ID递增的问题，我在递归本层时，使用局部变量记录当前结果product的长度，以便在后面遍历完相应模块后，在product正确位置插入需要跳转过去的模块寄存器ID。

## 参考

主要参考教材对编译过程的讲解，未参考其它具体的代码或教程。